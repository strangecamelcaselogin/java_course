#Разработка промышленного ПО.
`---, почта - marahal@ya.ru`

Ява это язык, ява машина, библиотеки.
JDK - имплементация Java SE.
Java EE - стандарт описывает сервера приложений, а также стандарты протоколов
Java ME - устарело, раньше использовалось в телефонах
Java Card - 

Версии Java SE - 1.8,  
Java EE - 5, 6, 7

Процесс разработки:
1. Исходный код (.java)
2. Компиляция в (.class - > .jar и др). javac
3. Запуск. java

### 19.09.17

Есть классы и объекты.
Есть статические меоды и статические поля.
Инициализация полей объектов:

1) При описании
```java
class A {
    private String s = 'строка';
}
```
2) Через инициализатор
```java
class A {
    private String s = 'строка';
    {
       // инициализатор тут
    }
}
```
3) Через конструктор
```
...
```

_Программа_: написать код, чтобы посмотреть на порядок инициализации.
_Программа_: с помощью метаданных узнать из каких полей и методов состоит класс.

Внутренний класс и интерфейсы. Способ создать класс, имеющий доступ ко всем полям класса, в который он вложен.

Интерфейс Map, внутри него описан интерфейс Entry (Map.Entry).
Реализации интерфейса Map: HashMap, LinkedMap, TreeMap и др.

Интерфейсы - способ сократить количество зависимостей (когда одно имя класса захардкоженно в другом 
  или же просто предается ссылка).

Пример:
```java
class Calculate {
    xxx Calculate(Y y, ServiceCaller caller);
}

interface ServiceCaller {
    // тут внутренняя реализация этого интерфейса
    Result callService(...);
}
```

### x.09.17 Class Loadaders
**Class Loadaders** - Класы для загрузки других классов, используются в серверах приложений.
// https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html
(один сервер приложений, много приложений, которые выполняются в нем изолированно).
Загрузчики классов имеют древовидную структуру.

_Программа_: написать класс лоадер.
Метод который загружает класс - нативный, написан на C.

Загрузка классов может использоватсья для __иснтрументации__ - мы хотим модифицировать существующий класс, 
в момент загрузки. Используется в библиотеках, например hybirnate. 

#### Доп информация по Doker (на экзамене не будет).

Раньше (ну или сейчас) в цикле разработки localhost -> test -> production, возникают ошибки именно из-за несовпадений системных окружений.
Также нужна возможность широкой модульности (мы сделали 20 задач протестили, клиент не успел протетсиить 5 из них, нужно собрать новую версию из 15 задач, например за 1 час).

Идея в помещении приложений или даже его кусков в контейнеры - изолированные среды исполнения.

...

Системы хранения образов, оркестрирование, архитектуры приложений

...

Системы оркестрирования: ansible, kubernetes, и еще много

```
rProxy -> LB (nginx)                        \
           |
          SL (наш оркестратор или etcd)       ---> (C, C, C)
           |
          Container Manager                 /
```

- CAP теорема
- cadvisor
- doker swarm
- doker compose

### 3.10.17

_Программа_: Написать фабрику, которая создает свои объекты классов. Если в классе есть метод с аннотациией @Logged, необходимо обернуть этот класс в проски, который бы логгировал

#### XML - XSD XTD

Рассказан материал по ссылке https://www.w3schools.com/xml/schema_intro.asp

Знать про тег про namespace, про XSD

Работа с XML:
- DOM для неструктурированных XML
- SAX
- Jaxb (использует SAX), Jaxb используется в основном

_Задание_: Написать xml, описывающий наш ВУЗ с кафедрами, студентами, предметами, преподавателями.



### 9.10.17

#### Java + DOM

#### Java SAX
[ссылка](https://www.mkyong.com/java/how-to-read-xml-file-in-java-sax-parser/)

```java
public class ... implement DefaultHandler {
  
}
```

### 2.11.17

#### REST

Что такое REST
Про меоды и действия
Про форматы сообщение


### 6.11.17

#### SOAP

Отправка данных происходит через XML, все потоки данных типизированы, в отличии от JSON REST

есть 2 стандарта:
- ручное создание схемы
- автоматическое создание по аннотациям на классы

первое сложно/долго, второе иногда криво, поэтому делаем сервис по п.2 -> получаем WSDL -> правим руками -> после чего переписываем сервис на ручное создание из WSDL.

_задание:_ Необходимо сделать сервис, который по группе и ФИО человека выдает его оценки. Использовать протокол SOAP.

_задание:_ Клиент для SOAP сервиса. Нужен JAX-WS плагин для Maven (mojohouse).

Движки для серверов - Oracle Metro; Apache Axis, Axis2, CXF; Предпочтителен CXF

### 23.11.17

#### Наследование в БД
Два типа связей:
1.
2.

...

#### Виды связей по времени загрузки

Существуют 2 типа сущностей:
- корневые (не на кого не ссылаются)
- другие

поэтому в hybernate можно указать тип связи для сущностий (lazy, iget (?)), так же в JPA 2.1 появились профили загрузки данных, в зависимости от профиля могут использоватсья разные связи.

#### Каскадные связи

Если сущности связанны каскадно, то возможны каскадные изменения: update, delete, (все ?)

#### Присоединенные и отсоединенные объекты

*структура веб приложения*
`(WEB API) <---> (REST service - JPA) <---> (DB)`

В ситуации, когда мы **читаем** через Entyty класс, мы получаем *присоединенный* объект (можем читать, писать, потом сделать коммит и все ок)

Когда же мы создаем сами объект с помощью new Entyty (напр из JSON), мы получаем *отсоединенный* объект, при его сохранениях будут артефакты и тд, нужно делать persist (?)

#### Выборка данных для аналитики

Технологии серверов приложений: ..., MQ, JNDI, JPA Provider, ...